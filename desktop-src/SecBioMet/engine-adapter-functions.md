---
title: Engine Adapter Functions
description: An engine adapter generates biometric templates from captured samples, matches samples to existing templates, and indexes templates.
ms.assetid: d5f4683c-0613-493b-830f-0616ffa0694c
ms.date: 05/31/2018
ms.topic: article
ms.author: windowssdkdev
ms.prod: windows
ms.technology: desktop
---

# Engine Adapter Functions

An engine adapter generates biometric templates from captured samples, matches samples to existing templates, and indexes templates. The following functions must be implemented by the adapter developer. They are called by the Windows Biometric service.

## In this section



| Topic                                                                                                       | Description                                                                                                                                                                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**EngineAdapterCreateKey**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_create_key_fn?branch=master)<br/>                                         | Called by the Windows Biometric Framework to push an HMAC key to the sensor. The returned key identifier will be passed back to the biometric unit when the framework calls [**EngineAdapterIdentifyFeatureSetSecure**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_feature_set_secure_fn?branch=master). <br/>           |
| [**EngineAdapterAcceptSampleData**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_accept_sample_data_fn?branch=master)<br/>                           | Accepts a raw biometric sample and extracts a feature set.<br/>                                                                                                                                                                                                                     |
| [**EngineAdapterActivate**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_activate_fn?branch=master)<br/>                                           | Gives the Engine Adapter the chance to perform any work needed to bring the sensor component out of an idle state.<br/>                                                                                                                                                             |
| [**EngineAdapterAttach**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_attach_fn?branch=master)<br/>                                               | Adds an engine adapter to the processing pipeline of the biometric unit.<br/>                                                                                                                                                                                                       |
| [**EngineAdapterCheckForDuplicate**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_check_for_duplicate_fn?branch=master)<br/>                         | Determines whether a new template in the pipeline duplicates any template already saved in the database regardless of the identity associated with the templates.<br/>                                                                                                              |
| [**EngineAdapterClearContext**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_clear_context_fn?branch=master)<br/>                                   | Prepares the processing pipeline of the biometric unit for a new operation.<br/>                                                                                                                                                                                                    |
| [**EngineAdapterCommitEnrollment**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_commit_enrollment_fn?branch=master)<br/>                           | Finalizes the enrollment object, converts it to a template, and saves the template in the database.<br/>                                                                                                                                                                            |
| [**EngineAdapterControlUnit**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_control_unit_fn?branch=master)<br/>                                     | Performs a vendor-defined control operation that does not require elevated privilege.<br/>                                                                                                                                                                                          |
| [**EngineAdapterControlUnitPrivileged**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_control_unit_privileged_fn?branch=master)<br/>                 | Performs a vendor-defined control operation that requires elevated privilege.<br/>                                                                                                                                                                                                  |
| [**EngineAdapterCreateEnrollment**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_create_enrollment_fn?branch=master)<br/>                           | Initializes the enrollment object in the biometric unit pipeline.<br/>                                                                                                                                                                                                              |
| [**EngineAdapterDeactivate**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_deactivate_fn?branch=master)<br/>                                       | Gives the Engine Adapter the chance to perform any work needed to put the sensor component into an idle state.<br/>                                                                                                                                                                 |
| [**EngineAdapterDetach**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_detach_fn?branch=master)<br/>                                               | Releases adapter-specific resources attached to the pipeline.<br/>                                                                                                                                                                                                                  |
| [**EngineAdapterDiscardEnrollment**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_discard_enrollment_fn?branch=master)<br/>                         | Deletes intermediate enrollment state information from the pipeline.<br/>                                                                                                                                                                                                           |
| [**EngineAdapterExportEngineData**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_export_engine_data_fn?branch=master)<br/>                           | Retrieves a copy of the most recently processed feature set or template from the engine in a standard biometric information record.<br/>                                                                                                                                            |
| [**EngineAdapterGetEnrollmentHash**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_get_enrollment_hash_fn?branch=master)<br/>                         | Retrieves the hash of the completed enrollment template in the pipeline.<br/>                                                                                                                                                                                                       |
| [**EngineAdapterGetEnrollmentStatus**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_get_enrollment_status_fn?branch=master)<br/>                     | Determines whether the enrollment object is ready to be committed to the pipeline.<br/>                                                                                                                                                                                             |
| [**EngineAdapterIdentifyAll**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_all_fn?branch=master)<br/>                                     | Determines the identities of any people who are currently in camera frame.<br/>                                                                                                                                                                                                     |
| [**EngineAdapterIdentifyFeatureSet**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_feature_set_fn?branch=master)<br/>                       | Builds a template from the current feature set and locates a matching template in the database.<br/>                                                                                                                                                                                |
| [**EngineAdapterIdentifyFeatureSetSecure**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_identify_feature_set_secure_fn?branch=master)<br/>           | Called by the Windows Biometric Framework to build a template from the current feature set and locate a matching template in the database. If a match can be found, the engine adapter must fill the *Identity*, *SubFactor*, *Authorization*, and *AuthorizationSize* fields.<br/> |
| [*EngineAdapterNotifyPowerChange*](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_notify_power_change_fn?branch=master)<br/>                           | Receives notification about a change in the computer power state and prepares the engine adapter accordingly.<br/>                                                                                                                                                                  |
| [**EngineAdapterPipelineCleanup**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_pipeline_cleanup_fn?branch=master)<br/>                             | Gives the Engine Adapter the chance to perform any cleanup that requires help from the Storage Adapter.<br/>                                                                                                                                                                        |
| [**EngineAdapterPipelineInit**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_pipeline_init_fn?branch=master)<br/>                                   | Gives the Engine Adapter the chance to perform any initialization that remains incomplete.<br/>                                                                                                                                                                                     |
| [**EngineAdapterQueryCalibrationData**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_calibration_data_fn?branch=master)<br/>                   | Gets a set of post-capture calibration data from the engine adapter.<br/>                                                                                                                                                                                                           |
| [**EngineAdapterQueryExtendedEnrollmentStatus**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_extended_enrollment_status_fn?branch=master)<br/> | Queries the **WINBIO\_PROPERTY\_EXTENDED\_ENROLLMENT\_STATUS** property.<br/>                                                                                                                                                                                                       |
| [**EngineAdapterQueryExtendedInfo**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_extended_info_fn?branch=master)<br/>                         | Determines the capabilities and limitations of the biometric engine component.<br/>                                                                                                                                                                                                 |
| [**EngineAdapterQueryHashAlgorithms**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_hash_algorithms_fn?branch=master)<br/>                     | Retrieves an array of object identifiers that represent the hash algorithms supported by the engine adapter.<br/>                                                                                                                                                                   |
| [**EngineAdapterQueryIndexVectorSize**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_index_vector_size_fn?branch=master)<br/>                   | Retrieves the size of the index vector used by the engine adapter.<br/>                                                                                                                                                                                                             |
| [**EngineAdapterQueryPreferredFormat**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_preferred_format_fn?branch=master)<br/>                   | Determines the input data format preferred by the engine adapter.<br/>                                                                                                                                                                                                              |
| [**EngineAdapterQuerySampleHint**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_query_sample_hint_fn?branch=master)<br/>                             | Retrieves the number of correct samples required by the engine adapter to construct an enrollment template. <br/>                                                                                                                                                                   |
| [**EngineAdapterRefreshCache**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_refresh_cache_fn?branch=master)<br/>                                   | Notifies the Engine Adapter that it should discard any cached templates that it may be keeping in memory.<br/>                                                                                                                                                                      |
| [**EngineAdapterSelectCalibrationFormat**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_select_calibration_format_fn?branch=master)<br/>             | Called by the Windows Biometric Framework to determine which of the Sensor Adapter s calibration formats the Engine Adapter wants to use.<br/>                                                                                                                                      |
| [**EngineAdapterSetAccountPolicy**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_set_account_policy_fn?branch=master)<br/>                           | Sets the extended default and per-user antispoofing policies used by the engine adapter.<br/>                                                                                                                                                                                       |
| [**EngineAdapterSetEnrollmentParameters**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_set_enrollment_parameters_fn?branch=master)<br/>             | Gives the engine adapter additional information about an enrollment operation.<br/>                                                                                                                                                                                                 |
| [**EngineAdapterSetEnrollmentSelector**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_set_enrollment_selector_fn?branch=master)<br/>                 | Tells the Engine Adapter which person to track for the current enrollment operation.<br/>                                                                                                                                                                                           |
| [**EngineAdapterSetHashAlgorithm**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_set_hash_algorithm_fn?branch=master)<br/>                           | Selects a hash algorithm for use in subsequent operations.<br/>                                                                                                                                                                                                                     |
| [**EngineAdapterUpdateEnrollment**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_update_enrollment_fn?branch=master)<br/>                           | Adds the current feature set to the enrollment object.<br/>                                                                                                                                                                                                                         |
| [**EngineAdapterVerifyFeatureSet**](/windows/win32/Winbio_adapter/nc-winbio_adapter-pibio_engine_verify_feature_set_fn?branch=master)<br/>                           | Compares the template in the current feature set with a specific template in the database.<br/>                                                                                                                                                                                     |
| [**WbioQueryEngineInterface**](/windows/win32/Winbio_adapter/nf-winbio_adapter-wbioqueryengineinterface?branch=master)<br/>                                     | Retrieves a pointer to the [**WINBIO\_ENGINE\_INTERFACE**](/windows/win32/Winbio_adapter/ns-winbio_adapter-_winbio_engine_interface?branch=master) structure for the engine adapter.<br/>                                                                                                                                                      |



 

## Related topics

<dl> <dt>

[Plug-in Functions](plug-in-functions.md)
</dt> </dl>

 

 





