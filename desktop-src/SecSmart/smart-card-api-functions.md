---
title: Smart Card API Functions
description: This topic is not current. For the most current information about the Smart Card API, see Smart Card Minidriver Specification.
ms.assetid: ccd61200-1777-4729-8512-5650437c8408
keywords:
- Smart Card API Smart Card , functions
ms.technology: desktop
ms.prod: windows
ms.author: windowssdkdev
ms.topic: article
ms.date: 05/31/2018
---

# Smart Card API Functions

This topic is not current. For the most current information about the Smart Card API, see [Smart Card Minidriver Specification](http://go.microsoft.com/fwlink/p/?linkid=178045).

## Smart Card Module Functions

The following functions are implemented and used by smart card modules and the [Microsoft Base Smart Card Cryptographic Service Provider](microsoft-base-smart-card-cryptographic-service-provider.md).



| Function                                                           | Description                                                                                                                                                                                                                                                                                                                                                                                         |
|--------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CardAcquireContext**](cardacquirecontext.md)                   | Initializes communication between the [Microsoft Base Smart Card Cryptographic Service Provider](microsoft-base-smart-card-cryptographic-service-provider.md) and the smart card module.                                                                                                                                                                                                           |
| [**CardAuthenticateChallenge**](cardauthenticatechallenge.md)     | Submits a response to a challenge issued by a [*smart card*](https://msdn.microsoft.com/library/windows/desktop/ms721625#-security-smart-card-gly) to [*authenticate*](https://msdn.microsoft.com/library/windows/desktop/ms721532#-security-authentication-gly) a user.                                                                                                                                                                |
| [**CardAuthenticatePin**](cardauthenticatepin.md)                 | Submits a PIN to the smart card to authenticate a user.                                                                                                                                                                                                                                                                                                                                             |
| [**CardChangeAuthenticator**](cardchangeauthenticator.md)         | Changes the authentication data associated with a smart card and a specified type of user.                                                                                                                                                                                                                                                                                                          |
| [**CardConstructDHAgreement**](cardconstructdhagreement.md)       | Not currently supported.                                                                                                                                                                                                                                                                                                                                                                            |
| [**CardCreateContainer**](cardcreatecontainer.md)                 | Creates a new key container on a smart card.                                                                                                                                                                                                                                                                                                                                                        |
| [**CardCreateDirectory**](cardcreatedirectory.md)                 | Creates a subdirectory of the root directory in the file system on a smart card.                                                                                                                                                                                                                                                                                                                    |
| [**CardCreateFile**](cardcreatefile.md)                           | Creates a file in the specified directory of a smart card.                                                                                                                                                                                                                                                                                                                                          |
| [**CardDeauthenticate**](carddeauthenticate.md)                   | Reverses the effect of authenticating a user or administrator without resetting the smart card.                                                                                                                                                                                                                                                                                                     |
| [**CardDeleteContainer**](carddeletecontainer.md)                 | Deletes a key container from a smart card.                                                                                                                                                                                                                                                                                                                                                          |
| [**CardDeleteContext**](carddeletecontext.md)                     | Ends communication between the [Microsoft Base Smart Card Cryptographic Service Provider](microsoft-base-smart-card-cryptographic-service-provider.md) and the smart card module and cleans up resources.                                                                                                                                                                                          |
| [**CardDeleteDirectory**](carddeletedirectory.md)                 | Deletes a directory from a smart card. The directory must be empty, and the caller must have permission to delete that directory.                                                                                                                                                                                                                                                                   |
| [**CardDeleteFile**](carddeletefile.md)                           | Deletes a file from a smart card.                                                                                                                                                                                                                                                                                                                                                                   |
| [**CardDeriveKey**](cardderivekey.md)                             | Creates a session key by using the information in the specified [**CARD\_DERIVE\_KEY**](card-derive-key.md) structure.                                                                                                                                                                                                                                                                             |
| [**CardDestroyDHAgreement**](carddestroydhagreement.md)           | Removes a Diffie-Hellman secret agreement from the specified key container on the smart card.                                                                                                                                                                                                                                                                                                       |
| [**CardEnumFiles**](cardenumfiles.md)                             | Receives an array of the names of files available in a specified directory of a smart card.                                                                                                                                                                                                                                                                                                         |
| [**CardGetChallenge**](cardgetchallenge.md)                       | Authenticates a user with a challenge and response.                                                                                                                                                                                                                                                                                                                                                 |
| [**CardGetContainerInfo**](cardgetcontainerinfo.md)               | Gets a [**CONTAINER\_INFO**](container-info.md) structure that contains information about a key container on a smart card.                                                                                                                                                                                                                                                                         |
| [**CardGetFileInfo**](cardgetfileinfo.md)                         | Gets the size and access permissions of a smart card file.                                                                                                                                                                                                                                                                                                                                          |
| [**CardQueryCapabilities**](cardquerycapabilities.md)             | Gets information about the functionality provided by a smart card.                                                                                                                                                                                                                                                                                                                                  |
| [**CardQueryFreeSpace**](cardqueryfreespace.md)                   | Gets the amount of available memory on a smart card.                                                                                                                                                                                                                                                                                                                                                |
| [**CardQueryKeySizes**](cardquerykeysizes.md)                     | Gets the public key sizes supported by a smart card.                                                                                                                                                                                                                                                                                                                                                |
| [**CardReadFile**](cardreadfile.md)                               | Reads the contents of a file into a buffer.                                                                                                                                                                                                                                                                                                                                                         |
| [**CardRSADecrypt**](cardrsadecrypt.md)                           | Performs an [*RSA*](https://msdn.microsoft.com/library/windows/desktop/ms721604#-security-rsa-gly) decryption of the specified data using the specified private key. The decryption operation must be for a single data buffer of the same size as the key modulus.                                                                                                                                                            |
| [**CardSignData**](cardsigndata.md)                               | Creates a digital signature for the specified block of data.                                                                                                                                                                                                                                                                                                                                        |
| [**CardUnblockPin**](cardunblockpin.md)                           | Unblocks a smart card that has become blocked after exceeding the maximum number of incorrect PIN entry attempts. The function also authenticates a user to the smart card.                                                                                                                                                                                                                         |
| [**CardWriteFile**](cardwritefile.md)                             | Writes data in a buffer to a file on a smart card.                                                                                                                                                                                                                                                                                                                                                  |
| [*CspGetDHAgreement*](cspgetdhagreement.md)                       | A callback function that is set by a caller before calling the [**CardAcquireContext**](cardacquirecontext.md) function. If the [**CARD\_DERIVE\_KEY**](card-derive-key.md) structure used for a call to [**CardDeriveKey**](cardderivekey.md) specifies a parameter of the type **KDF\_NCRYPT\_SECRET\_HANDLE**, the smart card module calls this function to get the handle on the smart card. |
| [**PFN\_CSP\_ALLOC**](pfn-csp-alloc.md)                           | Points to a function that allocates a block of memory.                                                                                                                                                                                                                                                                                                                                              |
| [**PFN\_CSP\_CACHE\_ADD\_FILE**](pfn-csp-cache-add-file.md)       | Points to a function that adds a file to the data cached by the [Microsoft Base Smart Card Cryptographic Service Provider](microsoft-base-smart-card-cryptographic-service-provider.md).                                                                                                                                                                                                           |
| [**PFN\_CSP\_CACHE\_DELETE\_FILE**](pfn-csp-cache-delete-file.md) | Points to a function that deletes a file from the cache of the [Microsoft Base Smart Card Cryptographic Service Provider](microsoft-base-smart-card-cryptographic-service-provider.md).                                                                                                                                                                                                            |
| [**PFN\_CSP\_CACHE\_LOOKUP\_FILE**](pfn-csp-cache-lookup-file.md) | Points to a function that reads a file that was cached by the [Microsoft Base Smart Card Cryptographic Service Provider](microsoft-base-smart-card-cryptographic-service-provider.md) as the result of a previous call that used the [**PFN\_CSP\_CACHE\_ADD\_FILE**](pfn-csp-cache-add-file.md) function pointer.                                                                                |
| [**PFN\_CSP\_FREE**](pfn-csp-free.md)                             | Points to a function that frees a block of memory.                                                                                                                                                                                                                                                                                                                                                  |
| [**PFN\_CSP\_PAD\_DATA**](pfn-csp-pad-data.md)                    | Pads a data buffer for use in a cryptographic operation when the smart card itself does not perform data padding.                                                                                                                                                                                                                                                                                   |
| [**PFN\_CSP\_REALLOC**](pfn-csp-realloc.md)                       | Points to a function that changes the size of a previously allocated block of memory. The existing contents of the memory block are copied to the reallocated block.                                                                                                                                                                                                                                |



 

 

 




